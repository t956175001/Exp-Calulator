<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8">
  <title>角色升级计算器</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      max-width: 600px;
      margin: 30px auto;
      padding: 20px;
      border: 1px solid #ddd;
      border-radius: 12px;
      background: #f9f9f9;
    }
    h2 { text-align: center; }
    label { display: block; margin-top: 10px; }
    input { width: 100%; padding: 6px; margin-top: 4px; }
    button {
      margin-top: 20px;
      padding: 10px;
      width: 100%;
      font-size: 16px;
      background: #4CAF50;
      color: white;
      border: none;
      border-radius: 8px;
      cursor: pointer;
    }
    button:hover { background: #45a049; }
    .result {
      margin-top: 20px;
      padding: 10px;
      background: #fff;
      border: 1px solid #ddd;
      border-radius: 8px;
    }
  </style>
</head>
<body>
  <h2>角色升级计算器</h2>

  <label>当前等级：
    <input type="number" id="currentLevel" value="">
  </label>

  <label>目标等级：
    <input type="number" id="targetLevel" value="">
  </label>

  <label>当前经验 (万)：
    <input type="number" id="currentExp" value="">
  </label>

  <label>经验效率（经验/小时）：
    <input type="number" id="efficiency" value="">
  </label>

  <label>版本选择：
    <select id="version">
      <option value="S1">S1泽之国</option>
      <option value="S2">S2龙之国</option>
      <option value="S3">S3羽之国</option>
    </select>
  </label>

  <button onclick="calculate()">计算</button>

  <div class="result" id="result">
    结果会显示在这里
  </div>

<script>
  // 升级所需经验表（示例：等级1-15）
  const expTables = {
   S1: { 1:80, 
2:90, 
3:90, 
4:90, 
5:90, 
6:90, 
7:90, 
8:90, 
9:100, 
10:350, 
11:355, 
12:360, 
13:370, 
14:375, 
15:390, 
16:400, 
17:450, 
18:500, 
19:500, 
20:1483, 
21:1844, 
22:1865, 
23:1916, 
24:2043, 
25:2067, 
26:2169, 
27:2437, 
28:2536, 
29:2860, 
30:2995, 
31:3607, 
32:3794, 
33:3876, 
34:3996, 
35:4261, 
36:4289, 
37:4510, 
38:4928, 
39:5086, 
40:17203, 
41:19189, 
42:21484, 
43:21509, 
44:23052, 
45:24627, 
46:25480, 
47:26852, 
48:29068, 
49:32008, 
50:33168, 
51:33332, 
52:34095, 
53:35628, 
54:35929, 
55:37680, 
56:38331, 
57:38878, 
58:39016, 
59:41731, 
60:43128, 
61:45042, 
62:45412, 
63:47152, 
64:47282, 
65:47340, 
66:50487, 
67:53076, 
68:54257, 
69:54405, 
70:197114, 
71:310414, 
72:330204, 
73:334735, 
74:348791, 
75:360389, 
76:360701, 
77:362826, 
78:378632, 
79:379059, 
80:408765, 
81:440713, 
82:464670, 
83:467234, 
84:477970, 
85:484690, 
86:509874, 
87:513879, 
88:527583, 
89:532378, 
90:583801, 
91:612907, 
92:643189, 
93:644274, 
94:670957, 
95:678226, 
96:706678, 
97:712891, 
98:749807, 
99:751452, 
100:886086, 
101:888547, 
102:926501, 
103:964086, 
104:1012164, 
105:1054111, 
106:1096529, 
107:1135645, 
108:1174997, 
109:1214584, 
110:1258533, 
111:1303677, 
112:1348574, 
113:1393941, 
114:1439780, 
115:1486091, 
116:1532872, 
117:1580125, 
118:1627849, 
119:1676044, 
120:1730017, 
121:1783360, 
122:1833196, 
123:1833196, 
124:1833196, 
125:1833196, 
126:1833196, 
127:1833196, 
128:1833196, 
129:1833196, 
130:1833196, 
131:1833196, 
132:1833196, 
133:1833196, 
134:1833196, 
135:1833196, 
136:1833196, 
137:1833196, 
 },
   S2: { 1:80, 
2:90, 
3:90, 
4:90, 
5:90, 
6:90, 
7:90, 
8:90, 
9:100, 
10:350, 
11:355, 
12:360, 
13:370, 
14:375, 
15:390, 
16:400, 
17:450, 
18:500, 
19:500, 
20:1483, 
21:1844, 
22:1865, 
23:1916, 
24:2043, 
25:2067, 
26:2169, 
27:2437, 
28:2536, 
29:2860, 
30:2995, 
31:3607, 
32:3794, 
33:3876, 
34:3996, 
35:4261, 
36:4289, 
37:4510, 
38:4928, 
39:5086, 
40:17203, 
41:19189, 
42:21484, 
43:21509, 
44:23052, 
45:24627, 
46:25480, 
47:26852, 
48:29068, 
49:32008, 
50:33168, 
51:33332, 
52:34095, 
53:35628, 
54:35929, 
55:37680, 
56:38331, 
57:38878, 
58:39016, 
59:41731, 
60:43128, 
61:45042, 
62:45412, 
63:47152, 
64:47282, 
65:47340, 
66:50487, 
67:53076, 
68:54257, 
69:54405, 
70:197114, 
71:310414, 
72:330204, 
73:334735, 
74:348791, 
75:360389, 
76:360701, 
77:362826, 
78:378632, 
79:379059, 
80:408765, 
81:440713, 
82:464670, 
83:467234, 
84:477970, 
85:484690, 
86:509874, 
87:513879, 
88:527583, 
89:532378, 
90:583801, 
91:612907, 
92:643189, 
93:644274, 
94:670957, 
95:678226, 
96:706678, 
97:712891, 
98:749807, 
99:751452, 
100:886000, 
101:3027527, 
102:3032011, 
103:3117883, 
104:3191855, 
105:3220513, 
106:3258763, 
107:3346658, 
108:3389858, 
109:3548753, 
110:3631694, 
111:3771824, 
112:3796167, 
113:3866624, 
114:3924404, 
115:4029348, 
116:4101565, 
117:4245434, 
118:4245686, 
119:4514881, 
120:4566377, 
121:4752888, 
122:4860000, 
123:5012377, 
124:5016341, 
125:5178619, 
126:5229563, 
127:5423881, 
128:5459728, 
129:6335318, 
130:6342809, 
131:6791971, 
132:7349165, 
133:7896724, 
134:8431041, 
135:8948504, 
136:9536985, 
137:10062872, 
138:10591166, 
139:11201308, 
140:11280750, 
141:11334730, 
142:11387696, 
143:11440662, 
144:11493628, 
145:11546594, 
146:11599560, 
147:11652526, 
148:11679009, 
149:11731975, 
150:11784941, 
151:11811613, 
152:11838097, 
153:11864580, 
154:11917547, 
155:11970514, 
156:12049964, 
157:12155898, 
158:12208865, 
159:12261832, 
160:12314799, 
161:12394079, 
162:12447046, 
163:12500012, 
164:12500012, 
165:12526495, 
166:12579461, 
167:12632427, 
168:12658910, 
169:12711876, 
170:12764842, 
171:12817637, 
172:12870602, 
173:12950050, 
174:13029499, 
175:13082464, 
176:13135429, 
177:13188395, 
178:13214878, 
179:13267843, 
180:13320809, 
181:13372809, 
182:13399290, 
183:13425771, 
184:13452251, 
185:13478732, 
186:13478732, 
187:13478732, 
188:13478732, 
189:13478732, 
190:13478732, 
191:13478732, 
192:13478732, 
193:13478732, 
194:13478732, 
195:13478732, 
196:13478732, 
197:13478732, 
198:13478732, 
199:13478732, 
200:13478732, 
201:13478732, 
202:13478732, 
203:13478732, 
204:13478732, 
205:13478732, 
206:13478732, 
207:13478732, 
208:13478732, 
209:13478732, 
210:13478732, 
 },
   S3: { 1:80, 
2:90, 
3:90, 
4:90, 
5:90, 
6:90, 
7:90, 
8:90, 
9:100, 
10:350, 
11:355, 
12:360, 
13:370, 
14:375, 
15:390, 
16:400, 
17:450, 
18:500, 
19:500, 
20:1483, 
21:1844, 
22:1865, 
23:1916, 
24:2043, 
25:2067, 
26:2169, 
27:2437, 
28:2536, 
29:2860, 
30:2995, 
31:3607, 
32:3794, 
33:3876, 
34:3996, 
35:4261, 
36:4289, 
37:4510, 
38:4928, 
39:5086, 
40:17203, 
41:19189, 
42:21484, 
43:21509, 
44:23052, 
45:24627, 
46:25480, 
47:26852, 
48:29068, 
49:32008, 
50:33168, 
51:33332, 
52:34095, 
53:35628, 
54:35929, 
55:37680, 
56:38331, 
57:38878, 
58:39016, 
59:41731, 
60:43128, 
61:45042, 
62:45412, 
63:47152, 
64:47282, 
65:47340, 
66:50487, 
67:53076, 
68:54257, 
69:54405, 
70:197114, 
71:310414, 
72:330204, 
73:334735, 
74:348791, 
75:360389, 
76:360701, 
77:362826, 
78:378632, 
79:379059, 
80:408765, 
81:440713, 
82:464670, 
83:467234, 
84:477970, 
85:484690, 
86:509874, 
87:513879, 
88:527583, 
89:532378, 
90:583801, 
91:612907, 
92:643189, 
93:644274, 
94:670957, 
95:678226, 
96:706678, 
97:712891, 
98:749807, 
99:751452, 
100:2904398, 
101:3027527, 
102:3032011, 
103:3117883, 
104:3191855, 
105:3220513, 
106:3258763, 
107:3346658, 
108:3389858, 
109:3548753, 
110:3631694, 
111:3771824, 
112:3796167, 
113:3866624, 
114:3924404, 
115:4029348, 
116:4101565, 
117:4245434, 
118:4245686, 
119:4514881, 
120:4566377, 
121:4752888, 
122:4866448, 
123:5012377, 
124:5016341, 
125:5178619, 
126:5229563, 
127:5423881, 
128:5459728, 
129:6335318, 
130:22859655, 
131:23541185, 
132:23587156, 
133:24290510, 
134:24337860, 
135:25112507, 
136:25161277, 
137:25962089, 
138:26062556, 
139:26920314, 
140:27780149, 
141:28608441, 
142:28773140, 
143:29687769, 
144:29800863, 
145:30864506, 
146:30980992, 
147:32025290, 
148:32205262, 
149:33270698, 
150:34387276, 
151:35609150, 
152:35871344, 
153:37143639, 
154:37211154, 
155:38460179, 
156:38529719, 
157:39822474, 
158:40037353, 
159:43248083, 
160:44969859, 
161:48762878, 
162:52604320, 
163:56396556, 
164:60225668, 
165:63980989, 
166:67994521, 
167:71934262, 
168:76039985, 
169:80194876, 
170:80600630, 
171:81009637, 
172:81415408, 
173:81685922, 
174:81821179, 
175:82226950, 
176:82632720, 
177:82903234, 
178:83309005, 
179:83714776, 
180:83985290, 
181:84388130, 
182:84658635, 
183:84929139, 
184:85334896, 
185:85605400, 
186:85875905, 
187:86281661, 
188:86552166, 
189:86822670, 
190:86957923, 
191:87237117, 
192:87507648, 
193:87913445, 
194:88183977, 
195:88319242, 
196:88725039, 
197:88995571, 
198:89130837, 
199:89536634, 
200:89807165, 
201:90068724, 
202:90339228, 
203:90609732, 
204:90880237, 
205:91150741, 
206:91421246, 
207:91691750, 
208:91962255, 
209:92232759, 
210:92503264, 
211:92777498, 
212:93048013, 
213:93318529, 
214:93589044, 
215:93859559, 
216:94130075, 
217:94400590, 
218:94671105, 
219:94941621, 
220:95212136, 
221:95484480, 
222:95619740, 
223:95755001, 
224:96025521, 
225:96296042, 
226:96566562, 
227:96837083, 
228:97107603, 
229:97378124, 
230:97648644, 
231:97782337, 
232:98052853, 
233:98323369, 
234:98593885, 
235:98864402, 
236:99134918, 
237:99405434, 
238:99675950, 
239:99946466, 
240:100216982, 
241:100486625, 
242:100757139, 
243:101027652, 
244:101298166, 
245:101568680, 
246:101839194, 
247:102109708, 
248:102380221, 
249:102650735, 
250:102921249, 
251:103174919, 
252:103445389, 
253:103715858, 
254:103715858, 
255:103715858, 
256:103715858, 
257:103715858, 
258:103715858, 
259:103715858, 
260:103715858, 
261:103715858, 
262:103715858, 
263:103715858, 
264:103715858, 
265:103715858, 
266:103715858, 
267:103715858, 
268:103715858, 
269:103715858, 
270:103715858, 
271:103715858, 
272:103715858, 
273:103715858, 
274:103715858, 
275:103715858, 
276:103715858, 
277:103715858, 
278:103715858, 
279:103715858, 
280:103715858, 
281:103715858, 
282:103715858, 
283:103715858, 
284:103715858, 
285:103715858, 
286:103715858, 
287:103715858, 
288:103715858, 
289:103715858, 
290:103715858, 
291:103715858, 
292:103715858, 
293:103715858, 
294:103715858, 
295:103715858, 
296:103715858, 
297:103715858, 
298:103715858, 
299:103715858, 
300:103715858, 
 }
  };

  // 计算累计经验
  function getTotalExp(level, expTable) {
    let total = 0;
    for (let i = 1; i < level; i++) {
      total += expTable[i] || 0;
    }
    return total;
  }

  function calculate() {
  const version = document.getElementById("version").value; 
  const expTable = expTables[version]; // 获取选中版本的数据

  const currentLevel = parseInt(document.getElementById("currentLevel").value);
  const targetLevel = parseInt(document.getElementById("targetLevel").value);
  const currentExp = parseInt(document.getElementById("currentExp").value);
  const efficiency = parseFloat(document.getElementById("efficiency").value);
    
  localStorage.setItem("lastData", JSON.stringify({
    version, currentLevel, targetLevel, currentExp, efficiency
  }));
    
  const currentTotalExp = getTotalExp(currentLevel, expTable) + currentExp *10000;
  const targetTotalExp = getTotalExp(targetLevel, expTable);
  const needExp = targetTotalExp - currentTotalExp;

  if (needExp <= 0) {
    document.getElementById("result").innerHTML = "你已经达到或超过目标等级！";
    return;
  }
  const needHours = needExp / efficiency;
  const needMinutes = needHours * 60;
  const hours = Math.floor(needMinutes / 60);
  const minutes = Math.round(needMinutes % 60);

  const now = new Date();
  const targetTime = new Date(now.getTime() + needMinutes * 60000);

  document.getElementById("result").innerHTML = `
    <b>选择版本：</b> ${version}<br>
    所需经验：${needExp}<br>
    所需时间：约 ${hours}小时${minutes}分钟<br>
    预计完成时间：${targetTime.toLocaleString()}
  `;
}
window.onload = function() {
  const saved = localStorage.getItem("lastData");
  if (saved) {
    const data = JSON.parse(saved);
    document.getElementById("version").value = data.version;
    document.getElementById("currentLevel").value = data.currentLevel;
    document.getElementById("targetLevel").value = data.targetLevel;
    document.getElementById("currentExp").value = data.currentExp;
    document.getElementById("efficiency").value = data.efficiency;
  }
};
</script>
</body>
</html>
